Bootstrap: docker
From: rocker/cuda:latest

%labels

# container info
  licensing_info="/usr/LICENSE.txt" 
  maintainer=Tom Rosenstr√∂m <tom.rosenstrom@helsinki.fi>
  version=v0.0.1

%files

# license files
  LICENSE.txt /usr/LICENSE.txt

%post

# Install and update OS packages
  apt-get -y update
  apt-get -y upgrade
  apt-get -y clean

# R variables

  export AWS_DEFAULT_REGION=''
  export CRAN=${CRAN:-https://cloud.r-project.org/}
  export TZ=Europe/Helsinki

# Install R packages
  Rscript -e 'install.packages("lme4")'
  Rscript -e 'install.packages("sjPlot")'

%help

  This is container for (mostly R) Apptainer environment of PsyTEAM research group from University of Helsinki.
